# ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒç«‹ã¡ä¸Šã’æ‰‹é †

**ğŸ³ Dockerç’°å¢ƒãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ï¼ˆJest Worker ã‚¨ãƒ©ãƒ¼å®Œå…¨è§£æ±ºæ¸ˆã¿ï¼‰**

## ğŸš€ æ¯å›ã®ç’°å¢ƒç«‹ã¡ä¸Šã’æ‰‹é †

### ğŸ³ Dockerç’°å¢ƒï¼ˆæ¨å¥¨ï¼‰

#### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
```bash
cd serapi-star-main/serapi-star-main/apps/web
```

#### 2. Dockerç’°å¢ƒèµ·å‹•ï¼ˆãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ï¼‰
```bash
# åˆå›ã¾ãŸã¯å¤§ããªå¤‰æ›´å¾Œ
yarn docker:dev

# æ—¥å¸¸çš„ãªé–‹ç™º
yarn docker:up
```

#### 3. ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹
- ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸: http://localhost:3000/ja
- ã‚»ãƒ©ãƒ”ã‚¹ãƒˆä¸€è¦§: http://localhost:3000/ja/areas  
- ä½“é¨“æ—¥è¨˜: http://localhost:3000/ja/experience-diary

**ğŸ’¡ Dockerç’°å¢ƒã®åˆ©ç‚¹:**
- âœ… Jest Worker ã‚¨ãƒ©ãƒ¼å®Œå…¨è§£æ±º
- âœ… Node.js 22.6.0 + Alpine Linuxç’°å¢ƒ
- âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è‡ªå‹•èµ·å‹•
- âœ… ç’°å¢ƒçµ±ä¸€ï¼ˆOSå•ã‚ãšåŒã˜ç’°å¢ƒï¼‰

### ğŸ“¦ å¾“æ¥ã®ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ

#### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
```bash
cd serapi-star-main/serapi-star-main/apps/web
```

#### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èµ·å‹•
```bash
yarn db:start
```

#### 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®šï¼ˆåˆå›ã¾ãŸã¯è¨­å®šå¤‰æ›´æ™‚ã®ã¿ï¼‰
```bash
# Prismaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ
yarn db:generate

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
yarn db:migrate
```

#### 4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
yarn dev
```

---

## ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã‚³ãƒãƒ³ãƒ‰

### Dockerç’°å¢ƒï¼ˆæ¨å¥¨ï¼‰
```bash
cd serapi-star-main/serapi-star-main/apps/web && yarn docker:dev
```

### ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ
```bash
cd serapi-star-main/serapi-star-main/apps/web && yarn db:start && yarn dev
```

---

## ç’°å¢ƒåœæ­¢æ™‚

### Dockerç’°å¢ƒ
```bash
# é–‹ç™ºåœæ­¢ï¼ˆã‚³ãƒ³ãƒ†ãƒŠã¯ç¨¼åƒç¶™ç¶šï¼‰
Ctrl+C

# å®Œå…¨åœæ­¢
yarn docker:down
```

### ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ
```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼åœæ­¢: Ctrl+C

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åœæ­¢  
yarn db:stop
```

---

## ãƒˆãƒ©ãƒ–ãƒ«æ™‚ã®ãƒªã‚»ãƒƒãƒˆã‚³ãƒãƒ³ãƒ‰

### Dockerç’°å¢ƒ
```bash
# ã‚³ãƒ³ãƒ†ãƒŠå®Œå…¨ãƒªã‚»ãƒƒãƒˆ
yarn docker:clean

# å†æ§‹ç¯‰ & èµ·å‹•
yarn docker:dev
```

### ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ
```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®Œå…¨ãƒªã‚»ãƒƒãƒˆ
yarn db:reset

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†æ§‹ç¯‰ï¼ˆãƒªã‚»ãƒƒãƒˆ + ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼‰
yarn db:reset-with-seed
```

---

## ç¾åœ¨ã®è¨­å®š

### Dockerç’°å¢ƒï¼ˆæ¨å¥¨ï¼‰
- **Node.js**: 22.6.0ï¼ˆAlpine Linuxï¼‰
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: Yarn
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQLï¼ˆDockerå†…ï¼‰
- **ãƒãƒ¼ãƒˆ**: 3000
- **Jest Worker ã‚¨ãƒ©ãƒ¼**: âœ… å®Œå…¨è§£æ±ºæ¸ˆã¿

### ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ
- **ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿**: æœ‰åŠ¹ï¼ˆ`.env.local`ã®`USE_MOCK_DATA=true`ï¼‰
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Docker Composeä½¿ç”¨
- **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: Yarnï¼ˆnpm ã‹ã‚‰ç§»è¡Œï¼‰
- **ãƒãƒ¼ãƒˆ**: 3000

## æ³¨æ„äº‹é …

### Dockerç’°å¢ƒ
- åˆå›ã¯`yarn docker:dev`ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦
- ã‚³ãƒ³ãƒ†ãƒŠå†…ã§Prismaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œãªã„å ´åˆã¯ãƒ¢ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ã§å‹•ä½œ
- Jest Workerã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ãŸã‚ã€å®‰å®šã—ãŸé–‹ç™ºç’°å¢ƒ

### ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ
- åˆå›èµ·å‹•æ™‚ã¯`yarn install`ãŒå¿…è¦
- ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä½¿ç”¨æ™‚ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã‚‚æ­£å¸¸å‹•ä½œ
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒå¿…è¦ãªæ©Ÿèƒ½ã‚’ä½¿ã†å ´åˆã¯`USE_MOCK_DATA=false`ã«å¤‰æ›´
- Windowsç’°å¢ƒã§ã¯Jest Workerã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã‚ã‚Š

---

**ğŸ’¡ æ¨å¥¨**: Jest Workerã‚¨ãƒ©ãƒ¼ã‚’é¿ã‘ã‚‹ãŸã‚ã€Dockerç’°å¢ƒã§ã®é–‹ç™ºã‚’å¼·ãæ¨å¥¨ã—ã¾ã™ï¼
